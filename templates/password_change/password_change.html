{% extends "_base.html" %}
{% block content %}

        <!-- Begin Page Content -->
        <div class="container-fluid">

          <!-- Page Heading -->
          <h1 class="h4 mb-4 text-gray-800">Meu Perfil <small>( {{ request.user.name }} )</small></h1>

          <hr>

          <div class="float-right float-sm-right float-md-right float-lg-right float-xl-right">
            <a href="{% url 'user_update_preview' user.pk %}" class="btn btn-std btn-icon-split">
              <span class="icon text-white-50">
                <i class="fas fa-arrow-left"></i>
              </span>
              <span class="text">Voltar</span>
            </a>
          </div>

          <div class="clearfix"></div>

          <hr>

          <div class="container">
            
            <div class="row justify-content-center">
              
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                
                <form class="form-container" method="post" action="">
                  {% csrf_token %}

                  <div class="form-group">
                    
                    <label>Senha atual:</label>
                    <input type="password" class="form-control" name="{{ form.old_password.name }}" id="inputSenha" required>

                    {% for error in form.old_password.errors %}
                      <p style="color: red"> {{ error }} </p>
                    {% endfor %}

                  </div>
                  <div class="form-group">
                    
                    <label>Nova senha:</label>
                    <input type="password" class="form-control" name="{{ form.new_password1.name }}" id="inputNovaSenha" required>

                    {% for error in form.new_password1.errors %}
                      <p style="color: red"> {{ error }} </p>
                    {% endfor %}

                  </div>
                  <div class="form-group">
                    
                    <label>Confirmar nova senha:</label>
                    <input type="password" class="form-control" name="{{ form.new_password2.name }}" id="inputConfirmarNovaSenha" required>

                    {% for error in form.new_password2.errors %}
                      <p style="color: red"> {{ error }} </p>
                    {% endfor %}

                  </div>

                  <hr>

                  <div class="text-right mb-4">

                    <a href="" class="btn btn-outline-danger" data-toggle="modal" data-target="#modalCancelarUsuario">
                      <span class="icon text-50">
                        <i class="fas fa-ban"></i>
                      </span>
                      <span class="text">Cancelar</span>
                    </a>
                    <a href="" class="btn btn-outline-success" data-toggle="modal" data-target="#modalSalvarUsuario">
                      <span class="icon text-50">
                        <i class="fas fa-check"></i>
                      </span>
                      <span class="text">Salvar</span>
                    </a>

                  </div>

                  <div class="modal fade" id="modalSalvarUsuario" tabindex="-1" role="dialog" aria-labelledby="modalSalvarUsuarioTitulo" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="modalSalvarUsuarioTitulo">Deseja <strong>salvar</strong> as alterações realizadas?</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">

                          Clique "Sim" abaixo para salvar as alterações.

                        </div>
                        <div class="modal-footer">
                          <button class="btn btn-danger" type="button" data-dismiss="modal">Não</button>
                          <button type="submit" class="btn btn-success">Sim</button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="modal fade" id="modalCancelarUsuario" tabindex="-1" role="dialog" aria-labelledby="modalCancelarUsuarioTitulo" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="modalCancelarUsuarioTitulo">Deseja <strong>cancelar</strong> as alterações realizadas?</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">

                          Nenhuma alteração será salva.

                        </div>
                        <div class="modal-footer">
                          <button class="btn btn-danger" type="button" data-dismiss="modal">Não</button>
                          <a class="btn btn-success" href="{% url 'user_update_preview' user.pk %}">Sim</a>
                        </div>
                      </div>
                    </div>
                  </div>

                </form>

              </div>

            </div>

          </div>

        </div>
        <!-- /.container-fluid -->


 {% endblock %}
